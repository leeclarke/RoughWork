<!DOCTYPE html> 
<html> 
  <head> 
    <title>SpriteTileManager Test</title> 
    <script type="text/javascript" src="../js/jquery-1.5.2.min.js"></script>
    <script type="text/javascript" src="unitTest.js"></script> 
    <script type="text/javascript" src="../js/TiledMap.js"></script> 
    
    <style>
		html {
			background: #CCCCCC;
		}
    </style>
    <script>
		tileMapManager = new SpriteTileManager(32,32,"../res/dungeontiles.gif");
		tile = {"id":0,"name":"FLOOR1","col":1,"row":2};
		tile2 = {"id":1,"name":"FLOOR2","col":0,"row":2};
		
		function testAddNamedTile_object() {
			
			tileMapManager.addNamedTile(tile);
			tileMapManager.addNamedTile(tile2);
			resp = assertEquals(tile,tileMapManager.getNamedTileById(0));
			return (resp)?"Success":"Failed";
		}
		
		function testGetNamedTile() {
			
			tileMapManager.addNamedTile(tile);
			resp = assertEquals(tile,tileMapManager.getNamedTile('FLOOR1'));
			return (resp)?"Success":"Failed";
		}
		
		function testGetNamedTileFail() {
			
			tileMapManager.addNamedTile(tile);
			resp = assertEquals(tile2,tileMapManager.getNamedTile('FLOOR1'));
			return (resp)?"Success":"Failed";
		}
		
		function test() {
		
			report("testAddNamedTile_object",testAddNamedTile_object());	
			report("testGetNamedTile",testGetNamedTile());	
			report("testGetNamedTileFail",testGetNamedTileFail());
		}
		

		
		/*function assertEquals(obj1, obj2) {
			for (var i in obj1) {
				if (obj1.hasOwnProperty(i)) {
					if (!obj2.hasOwnProperty(i)) return false;
					if (obj1[i] != obj2[i]) return false;
				}
			}
			for (var i in obj2) {
				if (obj2.hasOwnProperty(i)) {
					if (!obj1.hasOwnProperty(i)) return false;
					if (obj1[i] != obj2[i]) return false;
				}
			}
		}*/
		
		$(document).ready(test);
		
    </script>
  </head> 
  <body> 
    <div class="debug">Testing SpriteTileManager</div><br>
  </body> 
</html>

